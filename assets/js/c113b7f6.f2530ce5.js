"use strict";(self.webpackChunk_glitchjsy_data_frontend=self.webpackChunk_glitchjsy_data_frontend||[]).push([[8482],{45591:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(96540);const l={formGroup:"formGroup_YCak",helpText:"helpText_f1zI"};function r(e){return n.createElement("div",{className:l.formGroup},n.createElement("label",null,e.label),e.children,e.helpText&&n.createElement("span",{className:l.helpText},e.helpText))}},1936:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var n=a(15549),l=a(96540);const r={authCard:"authCard_SZZg",title:"title_gBRl",loginButton:"loginButton_Nx5P"};var o=a(45591),s=a(20053),i=a(68272);function c(){const[e,t]=(0,l.useState)(""),[a,c]=(0,l.useState)("");return l.createElement(n.A,{title:"Login"},l.createElement("div",{className:"container",style:{display:"flex",justifyContent:"center",marginTop:"50px"}},l.createElement("div",{className:r.authCard},l.createElement("h2",{className:r.title},"Login"),l.createElement(o.A,{label:"Email"},l.createElement("input",{type:"email",value:e,onChange:e=>t(e.target.value),required:!0})),l.createElement(o.A,{label:"Password"},l.createElement("input",{type:"password",value:a,onChange:e=>c(e.target.value),required:!0})),l.createElement("button",{className:(0,s.A)("btn btn-primary",r.loginButton),onClick:()=>(async()=>{try{const t=await fetch(`${i.y}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e,password:a})});if(!t.ok){const e=await t.json();throw alert("ERROR:"+e?.message),new Error(`HTTP error! status: ${t.status}`)}const n=await t.json();window.location.href="/",console.log("Login successful:",n)}catch(t){console.error("Error logging in:",t)}})()},"Login"))))}},68272:e=>{e.exports=JSON.parse('{"R":"pk.eyJ1IjoiZ2xpdGNoanN5IiwiYSI6ImNtOG9iZm01aTAwcWQyanM5NHN6NXRsemcifQ.GCQil4JVppCX_dIgJE1tMA","y":"https://api.opendata.je/v1"}')}}]);